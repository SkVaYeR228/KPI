# Lab 2
## Use Case Diagram
### Графічний варіант
![ER Чена](1.png)
### Декларативний опис у вигляді коду
```
flowchart TD
    reader["Читач"]
    staff["Персонал"]
    librarian["Бібліотекар"]
    
    paymentSystem["Платіжна система<br/>(система)"]

    UC_Login["Авторизація"]
    UC_Search["Пошук в каталозі"]
    UC_Reserve["Резервування книги"]
    UC_PayFine["Оплата штрафів"]
    UC_ManageUser["Керування акаунтом читача"]
    UC_ProcessReturn["Обробка видачі/повернення"]
    UC_ManageCatalog["Керування каталогом"]
    UC_AddBook["Додати книгу"]
    UC_RemoveBook["Видалити книгу"]
    
    staff --> librarian

    reader --> UC_Search
    reader --> UC_Reserve
    reader --> UC_PayFine
    reader --> UC_Login
    
    staff --> UC_Login
    librarian --> UC_Search
    librarian --> UC_ManageUser
    librarian --> UC_ProcessReturn
    librarian --> UC_ManageCatalog

    UC_PayFine --> paymentSystem
    
    UC_Reserve -.-> UC_Login
    UC_PayFine -.-> UC_Login
    
    UC_ManageCatalog --> UC_AddBook
    UC_ManageCatalog --> UC_RemoveBook
```
## Список вимог
### Functional
| ID | Вимога |
| :---: | :--- |
| **1** | Система повинна дозволяти користувачам (читачам та персоналу) шукати книги в каталозі за назвою, автором або ISBN. |
| **2** | Зареєстровані читачі повинні мати можливість авторизуватися в системі. |
| **3** | Авторизовані читачі повинні мати можливість резервувати книги. |
| **4** | Авторизовані читачі повинні мати можливість оплатити наявні штрафи. |
| **5** | Персонал повинен мати можливість реєструвати нових читачів у системі. |
| **6** | Персонал повинен мати можливість переглядати профіль читача, включно з його історією видач. |
| **7** | Персонал повинен мати можливість оформлювати видачу книг читачеві. |
| **8** | Персонал повинен мати можливість оформлювати повернення книг від читача. |
| **9** | Система повинна автоматично розраховувати штраф, якщо книга повертається із запізненням. |
| **10** | Персонал повинен мати можливість додавати нові примірники книг до каталогу. |
| **11** | Персонал повинен мати можливість видаляти/списувати примірники книг з каталогу. |
### Non Functional
| ID | Вимога |
| :---: | :--- |
| **1** | Сервер повинен стабільно працювати з навантаженням до 1000 одночасних користувачів.
| **2** | Час відповіді системи на пошуковий запит не повинен перевищувати 2 секунди, при нагрузці до 1000 користувачів.
| **3** | Усі фінансові транзакції повинні відбуватися через захищений шлюз (SSL/TLS).
| **4** | Система повинна інтегруватися із зовнішньою платіжною системою для обробки платежів.
## Матриця трасування
| Вимога (Requirement) | Пов'язаний Use Case (UC) | Примітки |
| :--- | :--- | :--- |
| **1** Пошук книги | `UC_Search (Пошук в каталозі)` <br> `UC_Reserve (Резервування)` <br> `UC_ProcessReturn (Обробка)` | **Пряма реалізація:** `UC_Search`. <br> **Вторинні зв'язки:** Пошук є кроком для `UC_Reserve` та `UC_ProcessReturn`. |
| **2** Авторизація читача | `UC_Login (Авторизація)` | **Пряма реалізація.** |
| **3** Резервування книги | `UC_Reserve (Резервування)` <br> `UC_Login (Авторизація)` <br> `UC_Search (Пошук в каталозі)` | **Пряма реалізація:** `UC_Reserve`. <br> **Залежності:** Вимагає `UC_Login` (<<include>>) та `UC_Search` (передумова). |
| **4** Оплата штрафів | `UC_PayFine (Оплата штрафів)` <br> `UC_Login (Авторизація)` | **Пряма реалізація:** `UC_PayFine`. <br> **Залежність:** Вимагає `UC_Login` (<<include>>). |
| **5** Реєстрація читачів | `UC_ManageUser (Керування акаунтом)` | **Пряма реалізація:** Одна з функцій `UC_ManageUser`. |
| **6** Перегляд профілю | `UC_ManageUser (Керування акаунтом)` <br> `UC_ProcessReturn (Обробка)` | **Пряма реалізація:** `UC_ManageUser`. <br> **Вторинний зв'язок:** Профіль переглядається під час `UC_ProcessReturn`. |
| **7** Видача книги | `UC_ProcessReturn (Обробка)` <br> `UC_ManageUser (Керування акаунтом)`| **Пряма реалізація:** Це частина `UC_ProcessReturn`. <br> **Передумова:** Потрібно знайти акаунт (`UC_ManageUser`). |
| **8** Повернення книги | `UC_ProcessReturn (Обробка)` | **Пряма реалізація:** Це частина `UC_ProcessReturn`. |
| **9** Розрахунок штрафу | `UC_ProcessReturn (Обробка)` <br> `UC_PayFine (Оплата штрафів)` | **Внутрішня логіка:** Розрахунок є частиною `UC_ProcessReturn`. <br> **Передумова:** Сума потрібна для `UC_PayFine`. |
| **10** Додавання книг | `UC_AddBook (Додати книгу)` <br> `UC_ManageCatalog (Керування каталогом)` <br> `UC_Search (Пошук в каталозі)` | **Пряма реалізація:** `UC_AddBook`. <br> **Батьківський UC:** `UC_ManageCatalog`. <br> **Передумова:** `UC_Search`. |
| **11** Видалення книг | `UC_RemoveBook (Видалити книгу)` <br> `UC_ManageCatalog (Керування каталогом)` <br> `UC_Search (Пошук в каталозі)` | **Пряма реалізація:** `UC_RemoveBook`. <br> **Батьківський UC:** `UC_ManageCatalog`. <br> **Передумова:** `UC_Search`. |
| **(UC без вимоги)** | `UC_ManageCatalog (Керування каталогом)` | **Обґрунтування:** Абстрактний (базовий) UC. Він не реалізує вимог напряму, а узагальнює `UC_AddBook` та `UC_RemoveBook`. |